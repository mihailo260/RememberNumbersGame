<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
</head>
<style>
    body {
        position: relative;
        height: 100vh;
        background: #1da1f2;
        text-align: center;
        box-sizing: border-box;
    }

    .LoaderBorder {
        position: absolute;
        top: 40%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 200px;
        height: 20px;
    }

    .number {
        position: absolute;
        width: 50%;
        overflow-wrap: break-word;
        word-wrap: break-word;
        hyphens: auto;
        top: 10%;
        left: 50%;
        transform: translate(-50%, -50%);
        font-size: 3rem;
    }

    .innerLoader {
        width: 0%;
        height: 100%;
        background: #F0C27B;
        background: -webkit-linear-gradient(to right, #4B1248, #F0C27B);
        background: linear-gradient(to right, #4B1248, #F0C27B);
    }
    input{
        position: absolute;
        top: 40%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 200px;
        height: 20px;
    }
    button{
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 100px;
        padding: 10px;
        
    }
</style>

<body>
    <div x-data="{
        number:'',   
        Newnumber : '',
        k:0,
        empty:'',
        closeModal : false,
        level:0,
        getrandomNum(){
            tempnum = Math.floor(Math.random() * 10);
            this.number += tempnum.toString()
            return this.number
            
        },
        GenerateLoadingScr(){
            spinner = document.getElementsByClassName('innerLoader')[0]
            inter = setInterval(() => {
                this.k +=1
                spinner.style.width = this.k +'%'
                if(this.k >=100){
                    clearInterval(inter)
                    this.closeModal = true
                }
                
            }, 50);
        },
        addNumber(){
            
            if(this.Newnumber == this.number){
                this.k = 0
                this.closeModal = false
                this.level++
                console.log(document.getElementsByName('input'))
            }else{
                alert('You got to level '+this.level)
                location.reload(); 
                
                
            }
        }
    }">

        <template x-if="closeModal == false ? getrandomNum():''" x-text="number">
            <div class="number" x-text="number"></div>
        </template>
        <template x-if="closeModal == false">
            <div class="LoaderBorder" x-init="GenerateLoadingScr()">
                <div class="innerLoader"></div>
            </div>
        </template>


        <template x-if="closeModal == true">
            <input type="text" x-model="Newnumber" x-text="empty">
        </template>
        <template x-if="closeModal == true">
            <button @click="addNumber(Newnumber)">Add number</button>
        </template>

    </div>
    <script>
        

    </script>
</body>

</html>